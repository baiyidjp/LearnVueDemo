<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>组件化</title>
</head>
<body>

<div id="app">

  <cpn></cpn>
  <cpn></cpn>
  <cpn></cpn>

</div>

<template id="cpn">
  <div>
    <h2>当前计数：{{counter}}</h2>
    <button @click="add">+</button>
    <button @click="sub">-</button>
  </div>
</template>

<script src="../js/vue.js"></script>

<script>

  const obj = {
    counter: 0
  }

  // 1.注册全局组件
  Vue.component('cpn', {
    // 使用id标签引入 模板
    template: '#cpn',
    // ✅ 每次都返回一个新的对象，这样各个组件实例之间互不影响数据，所以组件的data必须是一个函数，并且每次都返回一个新的对象
    data() {
      return {
        counter: 0
      }
    },
    // data() {
    //   // 函数返回的对象是同一个对象，这样你改变其中一个，其他的实例数据都改变是，不可取。
    //   // ❎
    //   return obj
    // },
    // 组件内也可以创建自己的方法
    methods: {
      add() {
        this.counter++
      },
      sub() {
        this.counter--
      }
    }
  })

  const vm = new Vue({
    el: '#app',
    data: {

    }
  })
</script>

</body>
</html>
