<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>箭头函数</title>
</head>
<body>

<script>

  setTimeout(function () {
    console.log(this) // Window
  })

  setTimeout(() => {
    console.log(this) // window
  })

  const obj = {

    func() {

      setTimeout(function () {
        console.log(this) // Window
      })

      // 箭头函数的this，是外层作用域中，一层层的查找this，知道有this的定义
      setTimeout(() => {
        console.log(this) // obj
      })
    },

    func1() {

      setTimeout(function () {

        setTimeout(function () {
          console.log(this) // Window
        })

        // 箭头函数的this，是外层作用域中，一层层的查找this，知道有this的定义
        setTimeout(() => {
          /* 当前作用域是window */
          console.log(this) // window
        })

      })

      // 箭头函数的this，是外层作用域中，一层层的查找this，知道有this的定义
      setTimeout(() => {

        setTimeout(function () {
          console.log(this) // Window
        })

        // 箭头函数的this，是外层作用域中，一层层的查找this，知道有this的定义
        setTimeout(() => {
          console.log(this) // obj
        })
      })
    }
  }

  obj.func()
  obj.func1()

</script>

</body>
</html>
